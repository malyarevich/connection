<form class="request_form" [formGroup]="myGroup">
  <h1 class="request_form__title">
    <b>{{pageTitle}}</b>
  </h1>

  <!-- Document Step -->
  <ng-container *ngFor="let section of sectionRequest; let i = index">  
    <app-form-stepper stepNumber="1" legend="Заповненя заяви">
      <ng-container *ngFor="let fieldItem of section.fields">
        <app-step-download [fieldItem]="fieldItem"></app-step-download>
        
      </ng-container>
      <br />
      <button mat-raised-button color="warn" style="font-size: 1rem">
        <a [href]="refDocument">Завантажити</a>
      </button>
  </app-form-stepper>
  </ng-container>


  <!-- Contact Information -->
  <ng-container *ngFor="let section of sectionFields; let i = index">
    <app-form-stepper [stepNumber]="i + 2" [legend]="section.legend">
      <ng-container *ngFor="let fieldItem of section.fields">
        <app-step-contact-info [fieldItem]="fieldItem"></app-step-contact-info>
      </ng-container>
    </app-form-stepper>
  </ng-container>
  <!-- Fill of Application -->
  <app-form-stepper stepNumber="4" legend="Подання заяви">
    <app-step-application></app-step-application>
  </app-form-stepper>

  <!-- Document List -->
  <ng-container *ngIf="(documentsForDownload$ | async).length > 0">
    <app-form-stepper stepNumber="5" legend="Перелік документів для завантаження">
      <app-step-document></app-step-document>
    </app-form-stepper>
  </ng-container>
  <div class="button_container">
    <button mat-raised-button color="warn" class="submit_button" type="submit" (click)="send()"
      [disabled]="myGroup.invalid || !isDocumentsSelected()">
      Відправити
    </button>
  </div>
</form>